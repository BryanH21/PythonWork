import tkinter as tk
from tkinter import ttk
from PIL import Image, ImageTk

# Sample game data
games = [
    {
        'name': 'Game Title 1',
        'rating': 5,
        'image': 'game1.jpg',  # Place images in the same directory
        'description': 'A thrilling adventure game set in a vast open world.',
        'reasons': ['Immersive storyline', 'Stunning graphics', 'Engaging gameplay'],
        'store_links': ['Store 1', 'Store 2']
    },
    {
        'name': 'Game Title 2',
        'rating': 4,
        'image': 'game2.jpg',
        'description': 'An action-packed RPG with deep character customization.',
        'reasons': ['Great combat system', 'Extensive skill trees', 'Engaging multiplayer'],
        'store_links': ['Store 1', 'Store 2']
    }
]

# Function to filter games by rating
def filter_games():
    for widget in game_frame.winfo_children():
        widget.destroy()  # Clear previous results

    for game in games:
        if game['rating'] >= 4:  # Filtering 4 and 5-star games
            display_game(game)

# Function to display a game in Tkinter UI
def display_game(game):
    frame = tk.Frame(game_frame, borderwidth=2, relief="ridge", padx=10, pady=10)
    frame.pack(pady=10, fill="x")

    # Load and display the image
    img = Image.open(game['image'])
    img = img.resize((150, 100), Image.ANTIALIAS)
    img = ImageTk.PhotoImage(img)

    img_label = tk.Label(frame, image=img)
    img_label.image = img  # Keep reference to avoid garbage collection
    img_label.pack(side="left")

    text_frame = tk.Frame(frame)
    text_frame.pack(side="left", padx=10)

    tk.Label(text_frame, text=game['name'], font=("Arial", 14, "bold")).pack(anchor="w")
    tk.Label(text_frame, text=f"‚≠ê Rating: {game['rating']}", font=("Arial", 12)).pack(anchor="w")
    tk.Label(text_frame, text=game['description'], wraplength=300, justify="left").pack(anchor="w")

    reasons_label = tk.Label(text_frame, text="Reasons to Buy:", font=("Arial", 10, "bold"))
    reasons_label.pack(anchor="w")

    for reason in game['reasons']:
        tk.Label(text_frame, text=f"- {reason}", font=("Arial", 10)).pack(anchor="w")

    store_links = tk.Label(text_frame, text=f"Buy from: {game['store_links'][0]}, {game['store_links'][1]}", fg="blue", cursor="hand2")
    store_links.pack(anchor="w")

# Main Tkinter Window
root = tk.Tk()
root.title("Best Games")

# Header
header = tk.Label(root, text="Best Games Right Now", font=("Arial", 18, "bold"))
header.pack(pady=10)

# Filter Button
filter_button = tk.Button(root, text="Show Only 4 & 5 Star Games", command=filter_games)
filter_button.pack()

# Game Display Area
game_frame = tk.Frame(root)
game_frame.pack(pady=10, fill="both", expand=True)

# Load initial games
filter_games()

# Run Tkinter event loop
root.mainloop()